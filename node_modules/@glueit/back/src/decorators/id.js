const uuid = require('uuid')

module.exports = async ({ object, propertyName }) => {
  const id = object[propertyName] || uuid.v4().replace(/-/g, '')
  return {
    toSqlString: () => {
      return `UNHEX('${id}')`
    },
    value: id
  }
}
